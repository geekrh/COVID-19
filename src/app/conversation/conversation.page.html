<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-avatar slot="start" class="contact-avatar">
      <img src="../../assets/img/avatar.png" />
    </ion-avatar>
    <ion-title>
      <ion-label>
        <h2>{{ contactInfo.name }}</h2>
        <p><small class="text-muted">{{ contactInfo.status }}</small></p>
      </ion-label>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg" id="chat">

  <div  id="scrollframe"  #scrollframe class="chat-container" [scrollTop]="scrollframe.scrollHeight">
     
    
    <div  *ngFor="let message of messages" class="chat-bubble" [(ngClass)]="message.type">
      <h6>{{ message.text }}</h6>
  
    </div>
  </div>

  <div class="chat-controls" [ngClass]="{'active': showOptions}" style="padding-right: 10px;" >
    <ion-row  class="option ion-text-center" *ngIf="showOptions" style="height: 100%;">
      <ion-col  *ngFor="let question of questions" (click)="sendSug(question.question , question.response)"  class="chat-bubble"  style="cursor:pointer;background:#087d63 ;box-shadow:3px 3px gainsboro, -1em 0 .4em ;color:white;border-radius: 8px;" size="12">
          
        {{question.question}}
        <!-- {{ "CONVERSATION." +  question | translate  }}  -->
      </ion-col>
    </ion-row>
    <ion-row class="bg-white" >
      <ion-col size="9" class="ion-no-padding">
        <ion-list lines="none" class="ion-no-padding">
          <ion-item>
            <ion-input placeholder="Type your message" type="text" (focus)="showOptionsToggle(false)" [(ngModel)]="message"></ion-input>
          </ion-item>
        </ion-list>
      </ion-col>
      <ion-col size="3" class="ion-no-padding">
        <p class="ion-text-center icon-controls">
          <ion-icon mode="ios" name="send" class="text-primary" (click)="send()"></ion-icon>
          <ion-icon mode="ios" name="md-help" *ngIf="!showOptions" (click)="showOptionsToggle()"></ion-icon>
          <ion-icon mode="ios" name="close-circle" *ngIf="showOptions" (click)="showOptionsToggle()"></ion-icon>
        </p>
      </ion-col>
    </ion-row>
  </div>

</ion-content>
